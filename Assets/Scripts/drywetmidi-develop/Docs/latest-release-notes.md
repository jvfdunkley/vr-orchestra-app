# Breaking changes

This version of the library has breaking changes:

* `Melanchall.DryWetMidi.Smf` namespace renamed to [`Melanchall.DryWetMidi.Core`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Core.html).
* `Melanchall.DryWetMidi.Smf.Interaction` namespace renamed to [`Melanchall.DryWetMidi.Interaction`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Interaction.html).
* [Pattern](https://github.com/melanchall/drywetmidi/wiki/Pattern) API moved to new namespace [`Melanchall.DryWetMidi.Composing`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.html).
* `BarBeatTimeSpan` renamed to [`BarBeatTicksTimeSpan`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Interaction.BarBeatTicksTimeSpan.html).
* Renamed `SetProgram` methods of the [`PatternBuilder`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html) class to [`ProgramChange`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_ProgramChange_Melanchall_DryWetMidi_Common_SevenBitNumber_).
* Changed type of the parameter of [`SetOctave`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_SetOctave_Melanchall_DryWetMidi_MusicTheory_Octave_) method of the [`PatternBuilder`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html) class from `int` to [`Octave`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.Octave.html).

# Documentation

From now you can read complete library documentation on https://melanchall.github.io/drywetmidi. Here you can find information about every class and members of the library. API documentation is placed in **API Documentation** section.

Right now it's not full replacement for the library Wiki so please don't forget to look at Wiki also when you want to get more information on some topic.

# New features

* Added [`Chord`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.Chord.html) class to [`Melanchall.DryWetMidi.MusicTheory`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.html) namespace.
* Added [`ChordProgression`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.ChordProgression.html) class to [`Melanchall.DryWetMidi.MusicTheory`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.html) namespace.
* Added [`GetStep`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.ScaleUtilities.html#Melanchall_DryWetMidi_MusicTheory_ScaleUtilities_GetStep_Melanchall_DryWetMidi_MusicTheory_Scale_System_Int32_) method to [`ScaleUtilities`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.ScaleUtilities.html) that gets [`NoteName`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.NoteName.html) corresponding to the specified step of a musical scale.
* Added [`GetNotesNames`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.ScaleUtilities.html#Melanchall_DryWetMidi_MusicTheory_ScaleUtilities_GetNotesNames_Melanchall_DryWetMidi_MusicTheory_Scale_) method to [`ScaleUtilities`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.ScaleUtilities.html) that returns infinite collection of note names that belong to the specified scale.
* Added [`IntervalQuality`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.IntervalQuality.html) enum to [`Melanchall.DryWetMidi.MusicTheory`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.html) namespace.
* Added [`Get`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.Interval.html#Melanchall_DryWetMidi_MusicTheory_Interval_Get_Melanchall_DryWetMidi_MusicTheory_IntervalQuality_System_Int32_) method to [`Interval`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.Interval.html) class which accepts interval number and quality.
* Implemented parsing of [`Interval`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.Interval.html) by number and quality (for example, _"P8"_ which is perfect eight).
* Added [`Transpose`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.NoteUtilities.html#Melanchall_DryWetMidi_MusicTheory_NoteUtilities_Transpose_Melanchall_DryWetMidi_MusicTheory_NoteName_Melanchall_DryWetMidi_MusicTheory_Interval_) method to [`NoteUtilities`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.NoteUtilities.html) class which returns the [`NoteName`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.NoteName.html) transposed by the specified interval.
* [`Note`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.Note.html) can be parsed now from string with any number of sharps and flats.
* Added [`NoteCallback`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Devices.Playback.html#Melanchall_DryWetMidi_Devices_Playback_NoteCallback) property to [`Playback`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Devices.Playback.html) class which allows to modify and filter every note to be played.
* Added [`EventCallback`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Devices.Playback.html#Melanchall_DryWetMidi_Devices_Playback_EventCallback) property to [`Playback`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Devices.Playback.html) class which allows to modify and filter every MIDI event to be played.
* Added [`EventPlayed`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Devices.Playback.html#Melanchall_DryWetMidi_Devices_Playback_EventPlayed) event to [`Playback`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Devices.Playback.html) class to track MIDI events playing.
* Added [`PlaybackCurrentTimeWatcher`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Devices.PlaybackCurrentTimeWatcher.html) class which allows to watch current time of specified playbacks and report it in the specified units via corresponding event.
* Added [`BarBeatFractionTimeSpan`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Interaction.BarBeatFractionTimeSpan.html) which represents a beat as a fraction (for example `0.5`) instead of number of whole beats and number of MIDI ticks (used by [`BarBeatTicksTimeSpan`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Interaction.BarBeatTicksTimeSpan.html)).
* Added [`BarBeatUitilities`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Interaction.BarBeatUtilities.html) which contains methods:
  * [`GetBarLength`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Interaction.BarBeatUtilities.html#Melanchall_DryWetMidi_Interaction_BarBeatUtilities_GetBarLength_System_Int64_Melanchall_DryWetMidi_Interaction_TempoMap_) that allows to get length of specified bar in terms of MIDI ticks;
  * [`GetBeatLength`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Interaction.BarBeatUtilities.html#Melanchall_DryWetMidi_Interaction_BarBeatUtilities_GetBeatLength_System_Int64_Melanchall_DryWetMidi_Interaction_TempoMap_) that allows to get length of a beat of specified bar in terms MIDI ticks.
* Added [`Filter`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Tools.QuantizingSettings-1.html#Melanchall_DryWetMidi_Tools_QuantizingSettings_1_Filter) property to quantizing settings classes to filter out objects that should be quantized.
* Added [`Filter`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Tools.RandomizingSettings-1.html#Melanchall_DryWetMidi_Tools_RandomizingSettings_1_Filter) property to randomizing settings classes to filter out objects that should be randomized.
* Added [`MidiClock`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Devices.MidiClock.html) class which allows to report ticks with the specified interval and speed.
* Added [`NoteId`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Interaction.NoteId.html) class that repesents a separately sounding note (note number and channel).
* Added [`PatternUtilities`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternUtilities.html) class with methods:
  * [`TransformNotes`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternUtilities.html#Melanchall_DryWetMidi_Composing_PatternUtilities_TransformNotes_Melanchall_DryWetMidi_Composing_Pattern_Melanchall_DryWetMidi_Composing_NoteTransformation_System_Boolean_) that transforms notes within the specified [`Pattern`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.Pattern.html) producing new pattern;
  * [`TransformChords`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternUtilities.html#Melanchall_DryWetMidi_Composing_PatternUtilities_TransformChords_Melanchall_DryWetMidi_Composing_Pattern_Melanchall_DryWetMidi_Composing_ChordTransformation_System_Boolean_) that transforms chords within the specified [`Pattern`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.Pattern.html) producing new pattern;
  * [`SplitAtAnchor`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternUtilities.html#Melanchall_DryWetMidi_Composing_PatternUtilities_SplitAtAnchor_Melanchall_DryWetMidi_Composing_Pattern_System_Object_System_Boolean_) that splits a pattern into subpatterns in points where the specified anchor inserted;
  * [`SplitAtAllAnchors`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternUtilities.html#Melanchall_DryWetMidi_Composing_PatternUtilities_SplitAtAllAnchors_Melanchall_DryWetMidi_Composing_Pattern_System_Boolean_) that splits a pattern into subpatterns in points where anchors inserted;
  * [`SplitAtMarker`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternUtilities.html#Melanchall_DryWetMidi_Composing_PatternUtilities_SplitAtMarker_Melanchall_DryWetMidi_Composing_Pattern_System_String_System_Boolean_System_StringComparison_) that splits a pattern into subpatterns in points where the specified marker inserted;
  * [`SplitAtAllMarkers`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternUtilities.html#Melanchall_DryWetMidi_Composing_PatternUtilities_SplitAtAllMarkers_Melanchall_DryWetMidi_Composing_Pattern_System_Boolean_) that splits a pattern into subpatterns in points where markers inserted;
  * [`CombineInSequence`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternUtilities.html#Melanchall_DryWetMidi_Composing_PatternUtilities_CombineInSequence_System_Collections_Generic_IEnumerable_Melanchall_DryWetMidi_Composing_Pattern__) that combines the specified patterns into single one placing them after each other;
  * [`CombineInParallel`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternUtilities.html#Melanchall_DryWetMidi_Composing_PatternUtilities_CombineInParallel_System_Collections_Generic_IEnumerable_Melanchall_DryWetMidi_Composing_Pattern__) that combines the specified patterns into single one starting all them at the same time (i.e. stacking patterns).
* Added constants to [`PatternBuilder`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html) that holds default values:
  * [`DefaultVelocity`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_DefaultVelocity);
  * [`DefaultNoteLength`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_DefaultNoteLength);
  * [`DefaultStep`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_DefaultStep);
  * [`DefaultOctave`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_DefaultOctave);
  * [`DefaultRootNote`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_DefaultRootNote).
* Added properties to [`PatternBuilder`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html) that return current values:
  * [`Velocity`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_Velocity);
  * [`NoteLength`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_NoteLength);
  * [`Step`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_Step);
  * [`Octave`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_Octave);
  * [`RootNote`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_RootNote).
* Added [`ReplayPattern`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_ReplayPattern_Melanchall_DryWetMidi_Composing_Pattern_) method to [`PatternBuilder`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html) class to insert all actions from the specifed pattern.
* Added [`PatternBuilder`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html) constructor that accepts [`Pattern`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.Pattern.html) to start from the list of actions of the passed pattern.
* Added [`Chord`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_Chord_Melanchall_DryWetMidi_MusicTheory_Chord_) methods to [`PatternBuilder`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html) class which accept an instance of the [`Melanchall.DryWetMidi.MusicTheory.Chord`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.MusicTheory.Chord.html).
* Added [`Clone`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.Pattern.html#Melanchall_DryWetMidi_Composing_Pattern_Clone) method to [`Pattern`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.Pattern.html) class to create a copy of the current pattern.

# Small changes and bug fixes

* Improved `GetHashCode` implementation for the library classes.
* **Fixed:** notes order is invalid on collecting by [`NotesManager`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Interaction.NotesManager.html) when notes are overlapped.
* **Fixed:** [`PatternBuilder.MoveToPreviousTime`](https://melanchall.github.io/drywetmidi/api/Melanchall.DryWetMidi.Composing.PatternBuilder.html#Melanchall_DryWetMidi_Composing_PatternBuilder_MoveToPreviousTime) doesn't work.
* **Fixed:** playback starts immidiately if first event is meta event with delta-time greater than zero (#37).